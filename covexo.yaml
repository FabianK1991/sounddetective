name: sounddetective
containers:
  - name: php
    image: 'fabian1991/sounddetective:latest'
    runtimeOptions:
      cmd: apache2-foreground
      workDir: ''
      entryPoint: docker-php-entrypoint
    env:
      mysqlPassword:
        isPrivate: true
      spotifyToken:
        isPrivate: true
    persistentFolders:
      - name: folder-0
        localSubPath: ./
        containerPath: /var/www/html/
      - name: folder-1
        localSubPath: ./config
        containerPath: /usr/local/etc/php/
    routes:
      - hostPrefix: ''
        containerPort: 80
        path: /
  - name: memcached
    image: 'memcached:1.5'
    runtimeOptions:
      cmd: memcached
      workDir: ''
      entryPoint: docker-entrypoint.sh
  - name: mysql
    image: 'mysql:5.7'
    runtimeOptions:
      cmd: mysqld
      workDir: ''
      entryPoint: docker-entrypoint.sh
    env:
      MYSQL_ROOT_PASSWORD:
        isPrivate: true
    persistentFolders:
      - name: config
        localSubPath: ./MySQL/conf
        containerPath: /etc/mysql
      - name: folder-1
        localSubPath: null
        containerPath: /var/lib/mysql
  - name: adminer
    image: 'adminer:latest'
    runtimeOptions:
      cmd: |
        php -S [::]:8080 -t /var/www/html
      workDir: /
      entryPoint: entrypoint.sh docker-php-entrypoint
